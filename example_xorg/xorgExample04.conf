# nvidia-settings: X configuration file generated by nvidia-settings with Sashas help.
# nvidia-settings:  version 1.0  (buildmeister@builder3)  Thu Feb 14 18:21:33 PST 2008
# File created & put in use April 8 2008
#
# This config produces 3 separate unique yet traversable desktops.
# Each can have a wallpaper, and window maximization is confined
# to each desktop in itself unless configged otherwise using KDE desktop config.
# X & KDE sees this setup as 3 monitors (3 separate X screens).
# nvdida-settings cannot seem to perfectly create 'complex' configs like this
# however by using it, then manipulating the results using nvidia-settings
# and starting X again, and repeating this process, can usually eventually
# give the desired settings.
# without Xinerama enabled here, this config still works functionally, with the main
# & annoying difference being that KDE cannot seem to tell which monitor is which,
# and 'config desktop' shows the desktops piled atop each other :/
# The easiest way to test an xorg.conf withous repeatedly killing X or logging
# out & in all the time is to just open a console and type "startx -- :1"
# which will start a (second) X session on a new VT if one is available.
# The newly started X session will parse & use the NEW xorg.conf while your
# running original X session will remain active using its running config.
# This also prevents you from testing a bad xorg.conf file and being stuck in
# a VT and X won't start. Then you need to fix the issue from a console editor
# or something like mc.
# You can logout from the second X session using the usual logout method, or you
# can kill it with CTRL-ALT-BACKSPACE. You will either way be returned to
# your original session where you are working on the file.

Section "Module"
    Load  "dbe"
    Load  "extmod"
    Load  "type1"
    Load  "freetype"
    Load  "glx"
    Load  "fbdevhw"
    Load  "record"
    Load  "v4l"
    #Load  "int10"
    #Load  "vnc"
EndSection

Section "Monitor" # Samsung TFT Monitor (scr-1.0)
    Identifier  "Samsung0"
    VendorName  "Samsung"
    ModelName   "SyncMaster 2243WM"
    HorizSync    30.0 - 81.0
    VertRefresh  56.0 - 75.0
    Option       "DPMS"
EndSection

Section "Monitor" # KDS Monitor (scr-1.0)
    Identifier  "KDS0"
    VendorName  "KDS"
    ModelName   "XF-9i Proview"
    HorizSync    30.0 - 86.0
    VertRefresh  50.0 - 160.0
    Option       "DPMS"
EndSection

Section "Monitor" # IBM-1 (scr-2.1)
    Identifier  "IBM1"
    VendorName  "IBM"
    ModelName   "E74-1"
    HorizSync    30.0 - 86.0
    VertRefresh  50.0 - 160.0
    Option      "DPMS"
EndSection

# Physical video cards/ports:

Section "Device"
    Identifier     "VideocardA(upperDVI)" # primary card
    Option "NvAGP" "1"
    Driver         "nvidia"
    VendorName     "NVIDIA Corporation"
    BoardName      "GeForce 7100 GS"
    BusID          "PCI:1:0:0"
EndSection
Section "Device"
    Identifier     "VideocardA(upperVGA)" # primary card
    Option "NvAGP" "1"
    Driver         "nvidia"
    VendorName     "NVIDIA Corporation"
    BoardName      "GeForce 7100 GS"
    BusID          "PCI:1:0:0"
EndSection

Section "Device"
    Identifier     "VideocardB(lowerDVI)" # secondary card
    Option "NvAGP" "1"
    Driver         "nvidia"
    VendorName     "NVIDIA Corporation"
    BoardName      "GeForce 7300 SE/7200 GS"
    BusID          "PCI:2:0:0"
#    Screen          0
EndSection
Section "Device"
    Identifier     "VideocardB(lowerVGA)" # secondary card
    Option "NvAGP" "1"
    Driver         "nvidia"
    VendorName     "NVIDIA Corporation"
    BoardName      "GeForce 7300 SE/7200 GS"
    BusID          "PCI:2:0:0"
#    Screen          0
EndSection

#### 2-monitor layout 'default'
Section "ServerLayout"
    Identifier     "default"
    Screen      0  "Screen0" 0 0
    Screen      1  "Screen1" RightOf "Screen0"
    Screen      2  "Screen2" 2960 0
    InputDevice    "Keyboard0" "CoreKeyboard"
    InputDevice    "Mouse0" "CorePointer"
EndSection

Section "ServerFlags"
    Option         "Xinerama" "1"
EndSection

#     Screen: = card + monitor
Section "Screen"
    Identifier     "Screen0"
    Device         "VideocardA(upperDVI)"
    Monitor        "Samsung0"
    DefaultDepth    16
    Option         "NoLogo" "False"
    Option         "RenderAccel" "On"
    Option         "HWcursor" "On"
    Option         "DamageEvents" "True"
    Option         "TwinView" "0"
    Option         "TwinViewXineramaInfoOrder" "DFP-0"
    Option          "metamodes" "DFP-0: 1680x1050 +0+0"
      SubSection   "Display"
      Depth         16
      EndSubSection
EndSection
Section "Screen"
    Identifier     "Screen1"
    Device         "VideocardB(lowerVGA)"
    Monitor        "KDS0"
    DefaultDepth    16
    Option         "NoLogo" "False"
    Option         "RenderAccel" "On"
    Option         "HWcursor" "On"
    Option         "DamageEvents" "True"
    Option         "TwinView" "0"
    Option         "metamodes" "CRT-0: 1600x1200 +0+0"
      SubSection   "Display"
      Depth         16
      EndSubSection
EndSection

Section "Screen"
    Identifier     "Screen2"
   Device         "VideocardB(lowerVGA)"
    Monitor        "IBM1"
    DefaultDepth    16
    Option         "NoLogo" "False"
    Option         "RenderAccel" "On"
    Option         "HWcursor" "On"
    Option         "DamageEvents" "True"
    Option         "TwinView" "0"
    Option         "metamodes" "CRT-0: 1280x1024 +0+0"
     SubSection   "Display"
      Depth         16
     EndSubSection
EndSection
